<html>
<head>
    <title>test_filesHandle_API</title>
    <meta charset="UTF-8">
    <style type="text/css">
    a {
        font-size: 25px;
        font-family: sans-serif;
        line-height: 2;
    }
    </style>
    <script src="../../lib/require.js"></script>
    <script src="../../lib/jquery.js"></script>
    <script src="../../lib/api.js"></script>
</head>
<body>
    <script language=javascript>  
    tryit.document.designMode="On";  
    tryit.document.open();  
    tryit.document.innerHTML+=tryit.document.write("<b>asdf</b>");  
    tryit.document.close();  
    tryit.focus();  

    function loadResourcesCb(result){
        tryit.document.write("test API getAllDataByCate()");
        tryit.document.write("<br/>");
        tryit.document.write("callback result: "+result);
        tryit.document.write("<br/>");
    }
    function test_loadResources(loadResourcesCb){
        WDC.requireAPI(['data'], function(data){
            var path = "/home/xiquan/resources";
            data.loadResources(loadResourcesCb,path);
        });
    }

    function getAllCateCb(array){
        tryit.document.write("test API getAllCateCb()");
        tryit.document.write(array);
    }
    function test_getAllCate(getAllCateCb){
        WDC.requireAPI(['data'], function(data){
            data.getAllCate(getAllCateCb);
        });
    }

    function getAllDataByCateCb(text){
        tryit.document.write("test API getAllDataByCate()");
        var json=JSON.stringify(text[0]);
        document.write(json);
    }
    function test_getAllDataByCate() {
        WDC.requireAPI(['data'], function(data){
            data.getAllDataByCate(getAllDataByCateCb,['Documents']);
        });
    }

    function openDataSourceCb(file_content){
        tryit.document.write("test API openLocalDataSourceByPath()");
        tryit.document.write("<br/>");
        tryit.document.write("callback result: "+file_content);
        tryit.document.write("<br/>");
    }
    function test_openLocalDataSourceByPath(openDataSourceCb){
        WDC.requireAPI(['data'], function(data){
            var content;
            data.openLocalDataSourceByPath(openDataSourceCb,content);
        });
    }

    function updateDataValueCb(result){
        tryit.document.write("test API updateDataValue()");
        tryit.document.write("<br/>");
        tryit.document.write("callback result: "+result);
        tryit.document.write("<br/>");        
    }
    function test_updateDataValue(updateDataValueCb){
        WDC.requireAPI(['data'], function(data){
            var uri;
            var version;
            var item;
            data.updateDataValue(updateDataValueCb,uri,version,item);
        });
    }

    function rmDataCb(result){
        tryit.document.write("test API rmDataByUri()");
        tryit.document.write("<br/>");
        tryit.document.write("callback result: "+result);
        tryit.document.write("<br/>");   
    }
    function test_rmDataByUri(rmDataCb){
        WDC.requireAPI(['data'], function(data){
            var uri;
            data.rmDataByUri(rmDataCb, uri);
        });
    }

    function getDataCb(result){
        tryit.document.write("test API getDataByUri()");
        tryit.document.write("<br/>");
        tryit.document.write("callback result: "+result);
        tryit.document.write("<br/>");   
    }
    function test_getDataByUri(getDataCb){
        WDC.requireAPI(['data'], function(data){
            var uri;
            data.getDataByUri(getDataCb, uri);
        });
    }

    function getDataSourceCb(result){
        tryit.document.write("test API getDataSourceByUri()");
        tryit.document.write("<br/>");
        tryit.document.write("callback result: "+result);
        tryit.document.write("<br/>"); 
    }
    function test_getDataSourceByUri(getDataSourceCb){
        WDC.requireAPI(['data'], function(data){
            var id;
            data.getDataSourceByUri(getDataSourceCb, id);
        });        
    }

    function getRecentAccessDataCb(result){
        tryit.document.write("test API getRecentAccessData()");
        tryit.document.write("<br/>");
        tryit.document.write("callback result: "+result);
        tryit.document.write("<br/>"); 
    }
    function test_getRecentAccessData(getRecentAccessDataCb){
        WDC.requireAPI(['data'], function(data){
            var num;
            data.getDataSourceByUri(getRecentAccessDataCb, num);
        });        
    }


    </script>
    <div>
        <button onclick="test_loadResources(loadResourcesCb)">test_loadResources</button><br/>

        <button onclick="test_getAllCate(getAllCateCb)">test_getAllCate</button><br/>

        <button onclick="test_getAllDataByCate(getAllDataByCateCb)">test_getAllDataByCate</button><br/>

        <button onclick="test_getAllDataByCate()">test_getAllDataByCate</button><br/>

        <button onclick="test_openLocalDataSourceByPath(openDataSourceCb)">test_openLocalDataSourceByPath</button><br/>

        <button onclick="test_updateDataValue(updateDataValueCb)">test_updateDataValue</button><br/>

        <button onclick="test_rmDataByUri(rmDataCb)">test_rmDataByUri</button><br/>

        <button onclick="test_getDataByUri(getDataCb)">test_getDataByUri</button><br/>

        <button onclick="test_getDataSourceByUri(getDataSourceCb)">test_getDataSourceByUri</button><br/>       

        <button onclick="test_getRecentAccessData(getRecentAccessDataCb)">test_getRecentAccessData</button><br/>   



    </div>
    <div>
        <iframe ID="tryit" MARGINHEIGHT="1" MARGINWIDTH="1" width="100%" height="300" scrolling="auto"></iframe>
    </div>
</body>
</html>
