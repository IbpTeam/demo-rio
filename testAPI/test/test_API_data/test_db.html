<html>
<head>
  <title>test_filesHandle_API</title>
  <meta charset="UTF-8">
  <style type="text/css">
  a {
    font-size: 25px;
    font-family: sans-serif;
    line-height: 2;
  }
  </style>
  <script src="../../lib/require.js"></script>
  <script src="../../lib/jquery.js"></script>
  <script src="../../lib/api.js"></script>
</head>
<body>
  <script language=javascript>  
  
  function print(win,something){
    if(typeof something == "object"){
      win.document.write("{");
      for(var k in something){
        win.document.write(k);
        win.document.write(" : ");
        print(win,something[k]);
        win.document.write(", ");        
        win.document.write("<br/>");
      }
      win.document.write("}");
      win.document.write("<br/>");
    }else{
      win.document.write(something);
    }
  }
  
  function show(id){
    var id_style = document.getElementById(id).style.cssText;
    if(id_style == "display: inline;"){
      document.getElementById(id).style.cssText = "display: none;";
    }else if(id_style == "display: none;"){
      document.getElementById(id).style.cssText = "display: inline;";
    }else{
      var win = window.open('');
      win.document.write("div "+id+" display wrong!");
    }
  }

  function importMetaDataCb(result){
    var win = window.open('');
    win.document.write("test API importMetaDataCb()");
    win.document.write("<br/>");
    win.document.write("callback result: ");
    win.document.write("<br/>");
    print(win,result);
  }
  function test_importMetaData(importMetaDataCb){
    WDC.requireAPI(['data'], function(data){
        var sPath = "/home/xwh/.custardBac/custard_rdf";
        data.importMetaData(importMetaDataCb,sPath);

    });
  }

  function unZipCb(sfolderPath){
    var win = window.open('');
    win.document.write("test API importMetaDataCb()");
    win.document.write("<br/>");
    win.document.write("callback result: ");
    win.document.write("<br/>");
    print(win,result);
  }
  function test_unZip(unZipCb){
    WDC.requireAPI(['data'], function(data){
        var sFolderPath = "/home/xwh/.custardBac/custard_rdf/";
        data.unZip(unZipCb, sFolderPath);
    });
  }

  function zipFolderCb(result){
    var win = window.open('');
    win.document.write("test API importMetaDataCb()");
    win.document.write("<br/>");
    win.document.write("callback result: ");
    win.document.write("<br/>");
    print(win,result);
  }
  function test_zipFolder(zipFolderCb){
    WDC.requireAPI(['data'], function(data){
        var sBackupStoreFolder = "/home/xwh/.custardBac/custard_rdf/LOG";
        var sZipFolderPath = "/home/xwh/.custardBac/qwer";
        data.zipFolder(zipFolderCb, sZipFolderPath,sBackupStoreFolder);
    });
  }

  function exportDataCb(result){
    var win = window.open('');
    win.document.write("test API importMetaDataCb()");
    win.document.write("<br/>");
    win.document.write("callback result: ");
    win.document.write("<br/>");
    print(win,result);
  }
  function test_exportData(exportDataCb){
    WDC.requireAPI(['data'], function(data){
        var exportPath = "/home/xwh/.custardBac/1";
        data.exportData(exportDataCb, exportPath);
    });
  }

  </script>

<h2 onclick="show('importMetaData')" >importMetaData(importMetaDataCb)<span><a class="mark" href="#test_importMetaData" id="test_importMetaData" onclick="test_importMetaData(importMetaDataCb)">test</a></span></h2>
<div id="importMetaData" style="display:none;">
<div style="color:#930000">
  <pre>
    @method : importMetaData 读取某个contact文件夹到数据库
      @param1 : importMetaDataCb 回调函数
        @result : string，success代表成功，其他代表失败原因
      @param2 path : string，要加载资源的路径
  </pre>
</div>
<div style="color:#004B97">
  <pre>
    具体实现：<br>
    function importMetaDataCb(result){
      var win = window.open('');
      win.document.write("test API importMetaDataCb()");
      win.document.write("<br/>");
      win.document.write("callback result: ");
      win.document.write("<br/>");
      print(win,result);
    }
    function test_importMetaData(importMetaDataCb){
      WDC.requireAPI(['data'], function(data){
          var sPath = "/home/xwh/.custardBac/custard_rdf";
          data.importMetaData(importMetaDataCb,sPath);

      });
    }     
</pre>
</div>
</div>

<h2 onclick="show('unZip')" >unZip(unZipCb)<span><a class="mark" href="#test_unZip" id="test_unZip" onclick="test_unZip(unZipCb)">test</a></span></h2>
<div id="unZip" style="display:none;">
<div style="color:#930000">
  <pre>
    @method : unZip 读取某个contact文件夹到数据库
      @param1 : unZipCb 回调函数
        @result : string，success代表成功，其他代表失败原因
      @param2 path : string，要加载资源的路径
  </pre>
</div>
<div style="color:#004B97">
  <pre>
    具体实现：<br>
    function unZipCb(result){
      var win = window.open('');
      win.document.write("test API importMetaDataCb()");
      win.document.write("<br/>");
      win.document.write("callback result: ");
      win.document.write("<br/>");
      print(win,result);
    }
    function test_unZip(importMetaDataCb){
      WDC.requireAPI(['data'], function(data){
          var sFolderPath = "/home/xwh/.custardBac/custard_rdf";
          data.unZip(sFolderPath);
      });
    }
</pre>
</div>
</div>

<h2 onclick="show('zipFolder')" >zipFolder(zipFolderCb)<span><a class="mark" href="#test_zipFolder" id="test_zipFolder" onclick="test_zipFolder(zipFolderCb)">test</a></span></h2>
<div id="zipFolder" style="display:none;">
<div style="color:#930000">
  <pre>
    @method : unZip 读取某个contact文件夹到数据库
      @param1 : zipFolderCb 回调函数
        @result : string，success代表成功，其他代表失败原因
      @param2 path : string，要加载资源的路径
  </pre>
</div>
<div style="color:#004B97">
  <pre>
    具体实现：<br>
    function unZipCb(result){
      var win = window.open('');
      win.document.write("test API importMetaDataCb()");
      win.document.write("<br/>");
      win.document.write("callback result: ");
      win.document.write("<br/>");
      print(win,result);
    }
    function test_unZip(importMetaDataCb){
      WDC.requireAPI(['data'], function(data){
          var sFolderPath = "/home/xwh/.custardBac/custard_rdf";
          data.unZip(sFolderPath);
      });
    }
</pre>
</div>
</div>

<h2 onclick="show('exportData')" >exportData(exportDataCb)<span><a class="mark" href="#test_exportData" id="test_exportData" onclick="test_exportData(exportDataCb)">test</a></span></h2>
<div id="exportData" style="display:none;">
<div style="color:#930000">
  <pre>
    @method : unZip 读取某个contact文件夹到数据库
      @param1 : exportDataCb 回调函数
        @result : string，success代表成功，其他代表失败原因
      @param2 path : string，要加载资源的路径
  </pre>
</div>
<div style="color:#004B97">
  <pre>
    具体实现：<br>
  function exportDataCb(result){
    var win = window.open('');
    win.document.write("test API importMetaDataCb()");
    win.document.write("<br/>");
    win.document.write("callback result: ");
    win.document.write("<br/>");
    print(win,result);
  }
  function test_exportData(exportDataCb){
    WDC.requireAPI(['data'], function(data){
      var exportPath = "/home/xwh/.custardBac";
      data.exportData(exportPath);
    });
  }
</pre>
</div>
</div>

</body>
</html>
